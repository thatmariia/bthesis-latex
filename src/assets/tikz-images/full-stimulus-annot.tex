% ----- INPUT
\newcommand{\fsaimagew}{\textwidth}
\newcommand{\fsaimageh}{0.8 * \fsaimagew}

% figure center
\newcommand{\fsafigcenterx}{0.767 * \fsaimagew}
\newcommand{\fsafigcentery}{0.271 * \fsaimageh}

% figure dimensions
\newcommand{\fsafigw}{0.185 * \fsaimageh}
\newcommand{\fsafigh}{0.266 * \fsaimagew}

% patch dimensions
\newcommand{\fsapatchw}{0.145 * \fsaimagew}
\newcommand{\fsapatchh}{\fsapatchw}

% shifts
\newcommand{\fsashiftw}{0.03 * \fsaimagew}
\newcommand{\fsashifth}{0.03 * \fsaimageh}

% ----- misc
\newcommand{\fsacenterx}{0.5 * \fsaimagew}
\newcommand{\fsacentery}{0.5 * \fsaimageh}

% figure coords
\newcommand{\fsafigleftx}{\fsafigcenterx - 0.5 * \fsafigw}
\newcommand{\fsafigrightx}{\fsafigcenterx + 0.5 * \fsafigw}
\newcommand{\fsafigtopy}{\fsafigcentery + 0.5 * \fsafigh}
\newcommand{\fsafigbottomy}{\fsafigcentery - 0.5 * \fsafigh}

% patch coords
\newcommand{\fsapatchleftx}{\fsafigcenterx - 0.5 * \fsapatchw}
\newcommand{\fsapatchrightx}{\fsafigcenterx + 0.5 * \fsapatchw}
\newcommand{\fsapatchtopy}{\fsafigcentery + 0.5 * \fsapatchh}
\newcommand{\fsapatchbottomy}{\fsafigcentery - 0.5 * \fsapatchh}

\begin{tikzpicture}[
        arr/.style = { -{Stealth[ ]} },
        whitedoublearrow/.style = {>=stealth, draw=white, fill=white, very thick, <->},
        pinkarrow/.style = {arr, draw=color-three-light, fill=color-three-light, very thick},
        yellowframe/.style = {rounded corners=0.2cm, very thick, color-one, fill=color-one, fill opacity=0.1},
        blueframe/.style = {rounded corners=0.2cm, very thick, color-two-light, fill=color-two-light, fill opacity=0.1},
        anglearrow/.style = {draw, >=stealth, white, very thick, ->, angle eccentricity=2},
        cnode/.style = {circle,thick,fill=color-one},
    ]
    
    \begin{scope}
        \node[anchor=south west,inner sep=0] at (0,0) {\includegraphics[width=\fsaimagew]{assets/images/full-stimulus.png}};
        
        % horizontal axis
        \draw[color-three-light, thick] (\fsacenterx, \fsacentery) -- (\fsaimagew, \fsacentery);
        \node[] (xright) at (\fsaimagew, \fsacentery) {};
        
        % stimulus width
        \node[] (startellw) at (0, 0.95 * \fsaimageh) {};
        \node[] (endellw) at (\fsaimagew, 0.95 * \fsaimageh) {};
        \path[whitedoublearrow, ultra thick] (startellw) edge node {\bgcolorsmalltext{white}{black}{stimulus width $\fullwidth$}} (endellw);
        
        % stimulus height
        \node[] (startellh) at (0.05 * \fsaimagew, 0) {};
        \node[] (endellh) at (0.05 * \fsaimagew, \fsaimageh) {};
        \path[whitedoublearrow, ultra thick] (startellh) edge node[rotate=90] {\bgcolorsmalltext{white}{black}{stimulus height $\fullheight$}} (endellh);
        
        % stimulsus center
        \node[style=cnode] (cent) at (\fsacenterx, \fsacentery) {};
        \node[shift={(-0.3 * \fsacenterx, 0)}] (centtxt) at (\fsacenterx, \fsacentery) {\bgcolorsmalltext{white}{black}{stimulus center}};
        \path [pinkarrow] (centtxt) edge[bend right=10] node {} (cent);
        
        % figure
        \node[shift={(0, \fsashifth)}] (figuretxt) at (\fsafigcenterx, \fsafigtopy) {\bgcolorsmalltext{white}{black}{figure $\figmatrix$}};
        \draw[yellowframe] (\fsafigleftx, \fsafigtopy) rectangle (\fsafigrightx, \fsafigbottomy) {};
        
        % figure width
        \node[shift={(0, -1 * \fsashifth)}] (startfigw) at (\fsafigleftx, \fsafigbottomy) {};
        \node[shift={(0, -1 * \fsashifth)}] (endfigw) at (\fsafigrightx, \fsafigbottomy) {};
        
        \path[whitedoublearrow] (startfigw) edge node {\bgcolorsmalltext{white}{black}{$\figwidth$}} (endfigw);
        
        \draw[very thick, white] (\fsafigleftx, \fsafigbottomy) -- (\fsafigleftx, \fsafigbottomy - 2 * \fsashifth);
        \draw[very thick, white] (\fsafigrightx, \fsafigbottomy) -- (\fsafigrightx, \fsafigbottomy - 2 * \fsashifth);
        
        % figure height
        \node[shift={(\fsashiftw, 0)}] (startfigh) at (\fsafigrightx, \fsafigtopy) {};
        \node[shift={(\fsashiftw, 0)}] (endfigh) at (\fsafigrightx, \fsafigbottomy) {};
        
        \path[whitedoublearrow] (startfigh) edge node[rotate=90] {\bgcolorsmalltext{white}{black}{$\figheight$}} (endfigh);
        
        \draw[very thick, white] (\fsafigrightx, \fsafigtopy) -- (\fsafigrightx + 2 * \fsashiftw, \fsafigtopy);
        \draw[very thick, white] (\fsafigrightx, \fsafigbottomy) -- (\fsafigrightx + 2 * \fsashiftw, \fsafigbottomy);
        
        % patch
        \node[shift={(0, \fsashifth)}] (patchtxt) at (\fsafigcenterx, \fsapatchtopy) {\bgcolorsmalltext{white}{black}{patch $\patchmatrix$}};
        \draw[blueframe] (\fsapatchleftx, \fsapatchtopy) rectangle (\fsapatchrightx, \fsapatchbottomy) {};
        
        % center of figure & patch
        \node[shift={(-0.3 * \fsaimagew, -0.1 * \fsaimageh)}] (cent2txt) at (\fsafigcenterx, \fsafigcentery) {\bgcolorsmalltext{white}{black}{center of figure \& patch $\figcenter$}};
        \node[style=cnode] (cent2) at (\fsafigcenterx, \fsafigcentery) {};
        \path [pinkarrow] (cent2txt) edge[bend right=10] node {} (cent2);
        
        % eccentricity
        \path[whitedoublearrow] (cent) edge node[sloped] {\bgcolorsmalltext{white}{black}{$\figecc$}} (cent2);
        
        % angle
        \pic[anglearrow, "\bgcolorsmalltext{white}{black}{$\; \figangle \;$}"] {angle = cent2--cent--xright};
        
        
    \end{scope}
\end{tikzpicture}